var egret=window.egret,__reflect=this&&this.__reflect||function(a,t,e){a.__class__=t,e?e.push(t):e=[t],a.__types__=a.__types__?e.concat(a.__types__):e},__awaiter=this&&this.__awaiter||function(a,t,e,o){return new(e||(e=Promise))(function(i,r){function s(a){try{h(o.next(a))}catch(t){r(t)}}function n(a){try{h(o["throw"](a))}catch(t){r(t)}}function h(a){a.done?i(a.value):new e(function(t){t(a.value)}).then(s,n)}h((o=o.apply(a,t||[])).next())})},__generator=this&&this.__generator||function(a,t){function e(a){return function(t){return o([a,t])}}function o(e){if(i)throw new TypeError("Generator is already executing.");for(;h;)try{if(i=1,r&&(s=r[2&e[0]?"return":e[0]?"throw":"next"])&&!(s=s.call(r,e[1])).done)return s;switch(r=0,s&&(e=[0,s.value]),e[0]){case 0:case 1:s=e;break;case 4:return h.label++,{value:e[1],done:!1};case 5:h.label++,r=e[1],e=[0];continue;case 7:e=h.ops.pop(),h.trys.pop();continue;default:if(s=h.trys,!(s=s.length>0&&s[s.length-1])&&(6===e[0]||2===e[0])){h=0;continue}if(3===e[0]&&(!s||e[1]>s[0]&&e[1]<s[3])){h.label=e[1];break}if(6===e[0]&&h.label<s[1]){h.label=s[1],s=e;break}if(s&&h.label<s[2]){h.label=s[2],h.ops.push(e);break}s[2]&&h.ops.pop(),h.trys.pop();continue}e=t.call(a,h)}catch(o){e=[6,o],r=0}finally{i=s=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}var i,r,s,n,h={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return n={next:e(0),"throw":e(1),"return":e(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n},__extends=this&&this.__extends||function(a,t){function e(){this.constructor=a}for(var o in t)t.hasOwnProperty(o)&&(a[o]=t[o]);e.prototype=t.prototype,a.prototype=new e},DebugPlatform=function(){function a(){}return a.prototype.getUserInfo=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(a){return[2,{nickName:"username"}]})})},a.prototype.login=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(a){return[2]})})},a}();__reflect(DebugPlatform.prototype,"DebugPlatform",["Platform"]),window.platform||(window.platform=new DebugPlatform);var AssetAdapter=function(){function a(){}return a.prototype.getAsset=function(a,t,e){function o(o){t.call(e,o,a)}if(RES.hasRes(a)){var i=RES.getRes(a);i?o(i):RES.getResAsync(a,o,this)}else RES.getResByUrl(a,o,this,RES.ResourceItem.TYPE_IMAGE)},a}();__reflect(AssetAdapter.prototype,"AssetAdapter",["eui.IAssetAdapter"]);var education=function(a){function t(){var t=a.call(this)||this;return t.a_lable=!0,t.nums_t=4,t.blocks_x=60,t.blocks_y=60,t.root_x=0,t.root_y=50,t.sudoku="7,3,2,6,a,a,a,a,9,a,a,a,9,a,a,2,6,3,a,a,a,1,a,a,a,5,a,9,a,a,2,3,a,7,1,a,5,7,a,4,a,a,6,a,8,4,2,1,8,a,6,a,a,5,a,6,5,3,8,a,9,7,1,3,9,7,a,1,2,4,8,a,8,1,a,a,6,9,5,a,2",t.sudoku_easy=["7,3,2,6,a,a,a,a,9,a,a,a,9,a,a,2,6,3,a,a,a,1,a,a,a,5,a,9,a,a,2,3,a,7,1,a,5,7,a,4,a,a,6,a,8,4,2,1,8,a,6,a,a,5,a,6,5,3,8,a,9,7,1,3,9,7,a,1,2,4,8,a,8,1,a,a,6,9,5,a,2","1,a,a,6,a,8,a,5,a,7,3,a,a,a,4,a,a,a,a,a,2,a,a,a,a,3,4,a,6,1,a,7,a,a,a,a,a,a,a,8,a,a,1,6,9,5,a,8,1,a,a,a,a,3,a,1,a,a,a,6,5,9,a,a,9,a,a,1,7,a,a,8,8,a,a,a,4,a,7,a,a","a,a,a,5,8,a,a,a,a,7,a,a,a,a,a,a,a,9,a,a,6,a,a,a,1,4,a,a,a,8,a,2,a,9,a,6,a,a,3,7,a,9,a,5,8,a,1,a,a,a,4,2,3,7,1,a,5,2,3,6,a,a,4,3,6,2,4,9,7,5,8,1,9,a,7,1,5,8,3,a,a","a,8,5,a,a,a,2,1,a,a,9,4,a,1,2,a,a,3,a,a,a,3,a,a,7,a,4,5,a,3,4,a,9,a,a,a,a,4,a,2,a,6,a,3,a,a,a,a,1,a,3,9,a,7,6,a,8,a,a,5,a,a,a,1,a,a,8,4,a,3,6,a,a,2,7,a,a,a,8,9,a","a,4,7,a,5,a,a,a,8,6,a,5,a,3,a,2,a,1,a,a,a,7,a,6,a,3,a,a,a,6,a,7,a,a,2,4,9,a,a,8,a,4,a,a,6,4,5,a,a,1,a,9,a,a,a,1,a,5,a,2,a,a,a,2,a,8,a,4,a,5,a,3,5,a,a,a,9,a,7,1,a"],t.sudoku_hard=["a,a,6,a,a,a,a,a,3,7,a,a,3,a,a,a,a,a,a,a,a,a,1,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,3,a,1,1,a,a,4,a,a,8,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,2,a,a,a,8,a,a,a","7,a,a,a,a,4,a,2,a,a,9,a,a,a,a,3,a,a,a,a,a,a,a,6,a,a,8,a,8,a,9,a,a,a,a,a,a,3,5,a,a,a,a,a,9,a,a,a,a,7,2,a,4,a,a,a,9,5,2,a,a,a,a,a,a,a,a,a,a,8,6,7,1,a,a,3,a,a,a,a,a","8,a,a,a,a,5,2,a,a,a,a,a,a,6,a,a,3,a,9,a,a,a,a,a,5,a,a,a,7,3,a,a,a,a,6,a,a,a,a,a,2,8,a,a,5,a,5,a,6,a,a,a,a,a,a,2,a,a,a,a,a,a,9,4,a,a,a,a,a,a,a,8,a,a,6,7,3,a,a,2,a","a,4,a,a,a,3,a,a,1,3,a,a,5,a,a,a,9,a,a,a,6,a,7,a,a,a,a,a,2,a,a,8,4,a,a,a,a,a,a,a,6,a,a,4,a,a,a,7,a,a,a,a,5,a,2,a,a,6,a,a,9,a,a,a,a,a,a,a,a,4,a,2,9,a,5,1,a,a,a,a,a","a,a,4,a,1,a,a,5,7,6,a,a,a,a,a,2,a,a,a,a,1,3,a,a,a,a,a,a,a,a,a,4,5,a,a,9,2,4,a,a,a,a,a,a,a,a,a,a,9,a,a,a,1,3,a,7,3,a,a,a,a,a,a,a,a,a,a,a,4,a,9,a,a,a,a,a,6,2,7,a,a"],t.sudoku_medium=["5,a,a,a,a,9,a,a,a,a,2,a,8,a,a,a,9,1,9,a,a,4,a,a,a,a,3,a,a,7,a,1,a,6,a,a,a,a,a,a,9,a,5,a,a,8,a,a,a,a,a,9,a,a,a,a,1,a,a,a,a,2,7,a,a,a,6,a,5,a,a,a,a,3,a,a,a,2,a,a,a","6,2,a,a,a,3,a,a,a,a,a,a,9,a,a,7,a,a,a,a,4,8,a,a,a,2,a,a,3,a,a,a,8,a,a,2,a,6,a,a,a,a,a,8,a,a,a,a,1,7,a,9,a,a,7,a,8,a,a,a,a,a,a,a,a,2,a,a,a,a,9,a,a,a,a,a,5,2,a,a,3","4,7,a,1,a,8,a,2,9,a,a,a,a,a,a,a,a,a,a,6,9,2,7,1,a,a,a,9,a,6,a,1,a,3,a,3,a,a,a,a,a,a,a,4,a,4,a,7,a,9,a,8,a,a,a,4,8,7,5,3,a,a,a,a,a,a,a,a,a,a,5,8,a,4,a,3,a,9,7,a,a","1,a,a,6,a,8,a,5,a,7,3,a,a,a,4,a,a,a,a,a,2,a,a,a,a,3,4,a,6,1,a,7,a,a,a,a,a,a,a,8,a,a,1,6,9,5,a,8,1,a,a,a,a,3,a,1,a,a,a,6,5,9,a,a,9,a,a,1,7,a,a,8,8,a,a,a,4,a,7,a,a","a,4,7,a,5,a,a,a,8,6,a,5,a,3,a,2,a,1,a,a,a,7,a,6,a,3,a,a,a,6,a,7,a,a,2,4,9,a,a,8,a,4,a,a,6,4,5,a,a,1,a,9,a,a,a,1,a,5,a,2,a,a,a,2,a,8,a,4,a,5,a,3,5,a,a,a,9,a,7,1,a"],t.opt=1,t.sus=t.sudoku.split(","),t.ss=new eui.ArrayCollection,t.skinName="resource/eui_skins/myskin/educationSkin.exml",t}return __extends(t,a),t.prototype.partAdded=function(t,e){a.prototype.partAdded.call(this,t,e)},t.prototype.Hline=function(){var a=new egret.Shape;a.graphics.lineStyle(10,16777215),a.graphics.moveTo(this.root_x+5,this.root_y+3*this.blocks_y),a.graphics.lineTo(this.root_x+9*this.blocks_x-5,this.root_y+3*this.blocks_y),this.sudokoTable.addChild(a),a.graphics.moveTo(this.root_x+5,this.root_y+6*this.blocks_y),a.graphics.lineTo(this.root_x+9*this.blocks_x-5,this.root_y+6*this.blocks_y),this.sudokoTable.addChild(a),a.graphics.moveTo(this.root_x+3*this.blocks_x,this.root_y+5),a.graphics.lineTo(this.root_x+3*this.blocks_x,this.root_y+9*this.blocks_y-5),this.sudokoTable.addChild(a),a.graphics.moveTo(this.root_x+6*this.blocks_x,this.root_y+5),a.graphics.lineTo(this.root_x+6*this.blocks_x,this.root_y+9*this.blocks_y-5),this.sudokoTable.addChild(a)},t.prototype.isRight=function(){for(var a=0;9>a;a++){for(var t=new Int32Array(10),e=1;9>=e;e++)t[e]=0;for(var e=0;9>e;e++){var o=this.ss.getItemAt(9*a+e),i=parseInt(o.text);if(i>9||1>i||0!=t[i])return egret.log("Error1: "),egret.log(a,e),!1;t[i]=1}}for(var e=0;9>e;e++){for(var t=new Int32Array(10),a=1;9>=a;a++)t[a]=0;for(var a=0;9>a;a++){var o=this.ss.getItemAt(9*a+e),i=parseInt(o.text);if(i>9||1>i||0!=t[i])return egret.log("Error2: "),egret.log(a,e),!1;t[i]=1}}for(var a=0;9>a;a++){for(var t=new Int32Array(10),e=1;9>=e;e++)t[e]=0;for(var e=0;9>e;e++){var o=this.ss.getItemAt(9*(a%3*3+Math.floor(e/3))+3*Math.floor(a/3)+e%3),i=parseInt(o.text);if(i>9||1>i||0!=t[i])return egret.log("Error3: ",i,a%3*3,Math.ceil(e/3),3*Math.ceil(a/3),e%3),egret.log(a,e),!1;t[i]=1}}return!0},t.prototype.show_panal=function(a){var t=new eui.Panel;if("Y"==a)t.title="恭喜您完成新手教程",t.horizontalCenter=0,t.verticalCenter=0,this.addChild(t);else{t.title="答案错误";var e=new eui.EditableText;e.x=50,e.y=70,e.width=400,e.textColor=0,e.text="失败乃成功之母，亲亲再尝试一下哦~~",e.touchEnabled=!1,t.addChild(e),t.horizontalCenter=0,t.verticalCenter=0,this.addChild(t)}t.addChild(t.closeButton)},t.prototype.show_panal2=function(a){var t=new eui.Panel;t.title="Title",t.horizontalCenter=0,t.verticalCenter=0,this.addChild(t),t.title="欢迎来到新手教程",t.addChild(t.closeButton)},t.prototype.random_num=function(a,t){var e=t-a,o=Math.random();return a+Math.round(o*e)},t.prototype.gen_sudoko=function(){if(this.a_lable){this.sudokoTable.width=9*this.blocks_x,this.sudokoTable.height=9*this.blocks_y;for(var a=0;9>a;a++)for(var t=0;9>t;t++){var e=new eui.TextInput;"a"!=this.sus[9*a+t]?(e.text=this.sus[9*a+t],e.skinName="sudokoSolidBlank",e.textColor=5080018,e.touchChildren=!1):(e.text="",e.skinName="sudokoEditableBlank",e.textColor=16777215,e.touchChildren=!0),e.maxChars=1,e.x=this.root_x+t*this.blocks_x,e.y=this.root_y+a*this.blocks_y,e.width=this.blocks_x,e.height=this.blocks_y,e.inputType=egret.TextFieldInputType.TEL,this.sudokoTable.addChild(e),this.ss.addItemAt(e,9*a+t)}this.Hline(),this.a_lable=!1}else{var o=this.random_num(0,this.nums_t);switch(this.opt){case 1:this.sudoku=this.sudoku_easy[o],egret.log(o),egret.log(this.sudoku),this.sus=this.sudoku.split(","),this.mode_id.text="模式：简单";break;case 2:this.sudoku=this.sudoku_medium[o],egret.log(o),egret.log(this.sudoku),this.sus=this.sudoku.split(","),this.mode_id.text="模式：中等";break;case 3:this.sudoku=this.sudoku_hard[o],egret.log(o),egret.log(this.sudoku),this.sus=this.sudoku.split(","),this.mode_id.text="模式：困难";break;default:egret.log("生成数独状态机出错!")}for(var a=0;9>a;a++)for(var t=0;9>t;t++){var e=this.ss.getItemAt(9*a+t);"a"!=this.sus[9*a+t]?(e.text=this.sus[9*a+t],e.skinName="sudokoSolidBlank",e.textColor=5080018,e.touchChildren=!1):(e.text="",e.skinName="sudokoEditableBlank",e.textColor=16777215,e.touchChildren=!0),e.maxChars=1,e.x=this.root_x+t*this.blocks_x,e.y=this.root_y+a*this.blocks_y,e.width=this.blocks_x,e.height=this.blocks_y,e.inputType=egret.TextFieldInputType.TEL}}},t.prototype.is_input_error=function(a,t,e,o){var i=a,r=t;egret.log(i),egret.log(r);var s=e.getItemAt(9*i+r);if(egret.log(s.text),s.text[0]>="1"&&s.text[0]<="9"||0==s.text.length)s.textColor=16777215;else{s.textColor=14423100;var n=new eui.Panel;n.title="不恰当的输入";var h=new eui.EditableText;h.x=50,h.y=70,h.width=400,h.textColor=0,h.text="数独仅包含数字1~9哦~~",h.touchEnabled=!1,n.addChild(h),n.horizontalCenter=0,n.verticalCenter=0,o.addChild(n)}},t.prototype.test_user_input=function(){for(var a=0;9>a;a++)for(var t=0;9>t;t++){var e=this.ss.getItemAt(9*a+t);e.addEventListener(egret.Event.CHANGE,this.is_input_error.bind(egret.Event.CHANGE,a,t,this.ss,this,this),this)}},t.prototype.childrenCreated=function(){a.prototype.childrenCreated.call(this),this.quit_to_PC.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){SceneManager.removeScene(new play_with_computers)},this),this.edubutton.addEventListener(egret.TouchEvent.TOUCH_TAP,this.start_edu,this)},t.prototype.start_edu=function(){var a=this;this.edubutton.visible=!1,this.submit.visible=!0,this.easy.visible=!0,this.medium.visible=!0,this.hard.visible=!0,this.mode_id.visible=!0,this.sudokoTable.visible=!0,this.opt=1,this.a_lable=!0,this.gen_sudoko(),this.easy.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){a.opt=1,a.gen_sudoko()},this),this.medium.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){a.opt=2,a.gen_sudoko()},this),this.hard.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){a.opt=3,a.gen_sudoko()},this),this.test_user_input(),this.submit.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){a.isRight()?a.show_panal("Y"):a.show_panal("N")},this)},t}(eui.Component);__reflect(education.prototype,"education",["eui.UIComponent","egret.DisplayObject"]);var Game_test=function(a){function t(){var t=a.call(this)||this;return t.endtime=new Date,t.blocks_x=60,t.blocks_y=60,t.root_x=0,t.root_y=40,t.sudoku="7,3,2,6,a,a,a,a,9,a,a,a,9,a,a,2,6,3,a,a,a,1,a,a,a,5,a,9,a,a,2,3,a,7,1,a,5,7,a,4,a,a,6,a,8,4,2,1,8,a,6,a,a,5,a,6,5,3,8,a,9,7,1,3,9,7,a,1,2,4,8,a,8,1,a,a,6,9,5,a,2",t.sus=t.sudoku.split(","),t.ss=new eui.ArrayCollection,t.skinName="resource/eui_skins/myskin/game_test1Skin.exml",t}return __extends(t,a),t.prototype.partAdded=function(t,e){a.prototype.partAdded.call(this,t,e)},t.prototype.Hline=function(){var a=new egret.Shape;a.graphics.lineStyle(10,16777215),a.graphics.moveTo(this.root_x+5,this.root_y+3*this.blocks_y),a.graphics.lineTo(this.root_x+9*this.blocks_x-5,this.root_y+3*this.blocks_y),this.sudokoTable.addChild(a),a.graphics.moveTo(this.root_x+5,this.root_y+6*this.blocks_y),a.graphics.lineTo(this.root_x+9*this.blocks_x-5,this.root_y+6*this.blocks_y),this.sudokoTable.addChild(a),a.graphics.moveTo(this.root_x+3*this.blocks_x,this.root_y+5),a.graphics.lineTo(this.root_x+3*this.blocks_x,this.root_y+9*this.blocks_y-5),this.sudokoTable.addChild(a),a.graphics.moveTo(this.root_x+6*this.blocks_x,this.root_y+5),a.graphics.lineTo(this.root_x+6*this.blocks_x,this.root_y+9*this.blocks_y-5),this.sudokoTable.addChild(a)},t.prototype.isRight=function(){for(var a=0;9>a;a++){for(var t=new Int32Array(10),e=1;9>=e;e++)t[e]=0;for(var e=0;9>e;e++){var o=this.ss.getItemAt(9*a+e),i=parseInt(o.text);if(i>9||1>i||0!=t[i])return egret.log("Error1: "),egret.log(a,e),!1;t[i]=1}}for(var e=0;9>e;e++){for(var t=new Int32Array(10),a=1;9>=a;a++)t[a]=0;for(var a=0;9>a;a++){var o=this.ss.getItemAt(9*a+e),i=parseInt(o.text);if(i>9||1>i||0!=t[i])return egret.log("Error2: "),egret.log(a,e),!1;t[i]=1}}for(var a=0;9>a;a++){for(var t=new Int32Array(10),e=1;9>=e;e++)t[e]=0;for(var e=0;9>e;e++){var o=this.ss.getItemAt(9*(a%3*3+Math.floor(e/3))+3*Math.floor(a/3)+e%3),i=parseInt(o.text);if(i>9||1>i||0!=t[i])return egret.log("Error3: ",i,a%3*3,Math.ceil(e/3),3*Math.ceil(a/3),e%3),egret.log(a,e),!1;t[i]=1}}return!0},t.prototype.show_panal=function(a){var t=new eui.Panel;if("Y"==a)t.title="恭喜您完成本届数独挑战",t.horizontalCenter=0,t.verticalCenter=0,this.addChild(t);else{t.title="答案错误",t.width=540;var e=new eui.EditableText;e.horizontalCenter=1,e.x=20,e.y=90,e.width=500,e.textColor=0,e.text="失败乃成功之母，亲亲再尝试一下哦~~",e.touchEnabled=!1,t.addChild(e),t.horizontalCenter=0,t.verticalCenter=0,this.addChild(t)}t.addChild(t.closeButton)},t.prototype.printtime=function(){this.endtime=new Date,this.timeout.text="距离挑战结束还剩: "+(23-this.endtime.getHours()).toString()+"时 "+(59-this.endtime.getMinutes()).toString()+"分 "+(59-this.endtime.getSeconds()).toString()+"秒"},t.prototype.gensudoko=function(){this.sudokoTable.width=360,this.sudokoTable.height=360;for(var a=0;9>a;a++)for(var t=0;9>t;t++){var e=new eui.TextInput;e.skinName="sudokoEditableBlank","a"!=this.sus[9*a+t]&&(e.text=this.sus[9*a+t],e.textColor=0,e.touchChildren=!1,e.skinName="sudokoSolidBlank"),e.maxChars=1,e.x=this.root_x+t*this.blocks_x,e.y=this.root_y+a*this.blocks_y,e.width=this.blocks_x,e.height=this.blocks_y,e.inputType=egret.TextFieldInputType.TEL,this.sudokoTable.addChild(e),this.ss.addItemAt(e,9*a+t)}this.Hline()},t.prototype.read_from_file=function(){},t.prototype.is_input_error=function(a,t,e,o){var i=a,r=t;egret.log(i),egret.log(r);var s=e.getItemAt(9*i+r);if(egret.log(s.text),s.text[0]>="1"&&s.text[0]<="9"||0==s.text.length)s.textColor=16777215;else{s.textColor=14423100;var n=new eui.Panel;n.title="不恰当的输入";var h=new eui.EditableText;h.x=50,h.y=70,h.width=400,h.textColor=0,h.text="数独仅包含数字1~9哦~~",h.touchEnabled=!1,n.addChild(h),n.horizontalCenter=0,n.verticalCenter=0,o.addChild(n),n.addChild(n.closeButton)}},t.prototype.test_user_input=function(){for(var a=0;9>a;a++)for(var t=0;9>t;t++){var e=this.ss.getItemAt(9*a+t);e.addEventListener(egret.Event.CHANGE,this.is_input_error.bind(egret.Event.CHANGE,a,t,this.ss,this,this),this)}},t.prototype.childrenCreated=function(){var t=this;a.prototype.childrenCreated.call(this),this.quit_to_main.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){e.stop(),SceneManager.removeScene(new Startscence)},this);var e=new egret.Timer(300,0);e.addEventListener(egret.TimerEvent.TIMER,function(){t.printtime()},this),e.start(),this.read_from_file(),this.gensudoko(),this.test_user_input(),this.submit.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){t.isRight()?t.show_panal("Y"):t.show_panal("N")},this)},t}(eui.Component);__reflect(Game_test.prototype,"Game_test",["eui.UIComponent","egret.DisplayObject"]);var LoadingUI=function(a){function t(){var t=a.call(this)||this;return t.createView(),t}return __extends(t,a),t.prototype.createView=function(){this.textField=new egret.TextField,this.addChild(this.textField),this.textField.y=300,this.textField.width=480,this.textField.height=100,this.textField.textAlign="center"},t.prototype.onProgress=function(a,t){this.textField.text="Loading..."+a+"/"+t},t}(egret.Sprite);__reflect(LoadingUI.prototype,"LoadingUI",["RES.PromiseTaskReporter"]);var Main=function(a){function t(){return null!==a&&a.apply(this,arguments)||this}return __extends(t,a),t.prototype.createChildren=function(){a.prototype.createChildren.call(this),egret.lifecycle.addLifecycleListener(function(a){}),egret.lifecycle.onPause=function(){egret.ticker.pause()},egret.lifecycle.onResume=function(){egret.ticker.resume()};var t=new AssetAdapter;egret.registerImplementation("eui.IAssetAdapter",t),egret.registerImplementation("eui.IThemeAdapter",new ThemeAdapter),this.runGame()["catch"](function(a){console.log(a)})},t.prototype.runGame=function(){return __awaiter(this,void 0,void 0,function(){var a,t;return __generator(this,function(e){switch(e.label){case 0:return[4,this.loadResource()];case 1:return e.sent(),this.createGameScene(),[4,RES.getResAsync("description_json")];case 2:return a=e.sent(),this.startAnimation(a),[4,platform.login()];case 3:return e.sent(),[4,platform.getUserInfo()];case 4:return t=e.sent(),console.log(t),[2]}})})},t.prototype.loadResource=function(){return __awaiter(this,void 0,void 0,function(){var a,t;return __generator(this,function(e){switch(e.label){case 0:return e.trys.push([0,4,,5]),a=new LoadingUI,this.stage.addChild(a),[4,RES.loadConfig("resource/default.res.json","resource/")];case 1:return e.sent(),[4,this.loadTheme()];case 2:return e.sent(),[4,RES.loadGroup("preload",0,a)];case 3:return e.sent(),this.stage.removeChild(a),[3,5];case 4:return t=e.sent(),console.error(t),[3,5];case 5:return[2]}})})},t.prototype.loadTheme=function(){var a=this;return new Promise(function(t,e){var o=new eui.Theme("resource/default.thm.json",a.stage);o.addEventListener(eui.UIEvent.COMPLETE,function(){t()},a)})},t.prototype.createGameScene=function(){SceneManager.stage=this.stage,SceneManager.addScene(new Startscence)},t.prototype.startAnimation=function(a){var t=this,e=new egret.HtmlTextParser,o=a.map(function(a){return e.parse(a)}),i=this.textfield,r=-1,s=function(){r++,r>=o.length&&(r=0);var a=o[r];i.textFlow=a;var e=egret.Tween.get(i);e.to({alpha:1},200),e.wait(2e3),e.to({alpha:0},200),e.call(s,t)};s()},t}(eui.UILayer);__reflect(Main.prototype,"Main");var challenges=function(a){function t(){var t=a.call(this)||this;return t.skinName="resource/eui_skins/myskin/challengeSkin.exml",t}return __extends(t,a),t.prototype.partAdded=function(t,e){a.prototype.partAdded.call(this,t,e)},t.prototype.childrenCreated=function(){a.prototype.childrenCreated.call(this),this.quit_to_PC.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){SceneManager.removeScene(new play_with_computers)},this)},t}(eui.Component);__reflect(challenges.prototype,"challenges",["eui.UIComponent","egret.DisplayObject"]);var play_with_computers=function(a){function t(){var t=a.call(this)||this;return t.skinName="resource/eui_skins/myskin/play_with_computerSkin.exml",t}return __extends(t,a),t.prototype.partAdded=function(t,e){a.prototype.partAdded.call(this,t,e)},t.prototype.childrenCreated=function(){a.prototype.childrenCreated.call(this),this.quit_to_main.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){SceneManager.removeScene(new Startscence)},this),this.new_man_b.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){SceneManager.removeScene(new education)},this),this.randam_sb.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){SceneManager.removeScene(new random)},this),this.soduko_chb.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){SceneManager.removeScene(new challenges)},this)},t}(eui.Component);__reflect(play_with_computers.prototype,"play_with_computers",["eui.UIComponent","egret.DisplayObject"]);var play_with_man=function(a){function t(){var t=a.call(this)||this;return t.skinName="resource/eui_skins/myskin/play_with_manSkin.exml",t}return __extends(t,a),t.prototype.partAdded=function(t,e){a.prototype.partAdded.call(this,t,e)},t.prototype.childrenCreated=function(){a.prototype.childrenCreated.call(this),this.quit_to_main.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){SceneManager.removeScene(new Startscence)},this)},t}(eui.Component);__reflect(play_with_man.prototype,"play_with_man",["eui.UIComponent","egret.DisplayObject"]);var random=function(a){function t(){var t=a.call(this)||this;return t.a_lable=!0,t.nums_t=4,t.blocks_x=60,t.blocks_y=60,t.root_x=0,t.root_y=50,t.sudoku="7,3,2,6,a,a,a,a,9,a,a,a,9,a,a,2,6,3,a,a,a,1,a,a,a,5,a,9,a,a,2,3,a,7,1,a,5,7,a,4,a,a,6,a,8,4,2,1,8,a,6,a,a,5,a,6,5,3,8,a,9,7,1,3,9,7,a,1,2,4,8,a,8,1,a,a,6,9,5,a,2",t.sudoku_easy=["7,3,2,6,a,a,a,a,9,a,a,a,9,a,a,2,6,3,a,a,a,1,a,a,a,5,a,9,a,a,2,3,a,7,1,a,5,7,a,4,a,a,6,a,8,4,2,1,8,a,6,a,a,5,a,6,5,3,8,a,9,7,1,3,9,7,a,1,2,4,8,a,8,1,a,a,6,9,5,a,2","1,a,a,6,a,8,a,5,a,7,3,a,a,a,4,a,a,a,a,a,2,a,a,a,a,3,4,a,6,1,a,7,a,a,a,a,a,a,a,8,a,a,1,6,9,5,a,8,1,a,a,a,a,3,a,1,a,a,a,6,5,9,a,a,9,a,a,1,7,a,a,8,8,a,a,a,4,a,7,a,a","a,a,a,5,8,a,a,a,a,7,a,a,a,a,a,a,a,9,a,a,6,a,a,a,1,4,a,a,a,8,a,2,a,9,a,6,a,a,3,7,a,9,a,5,8,a,1,a,a,a,4,2,3,7,1,a,5,2,3,6,a,a,4,3,6,2,4,9,7,5,8,1,9,a,7,1,5,8,3,a,a","a,8,5,a,a,a,2,1,a,a,9,4,a,1,2,a,a,3,a,a,a,3,a,a,7,a,4,5,a,3,4,a,9,a,a,a,a,4,a,2,a,6,a,3,a,a,a,a,1,a,3,9,a,7,6,a,8,a,a,5,a,a,a,1,a,a,8,4,a,3,6,a,a,2,7,a,a,a,8,9,a","a,4,7,a,5,a,a,a,8,6,a,5,a,3,a,2,a,1,a,a,a,7,a,6,a,3,a,a,a,6,a,7,a,a,2,4,9,a,a,8,a,4,a,a,6,4,5,a,a,1,a,9,a,a,a,1,a,5,a,2,a,a,a,2,a,8,a,4,a,5,a,3,5,a,a,a,9,a,7,1,a"],t.sudoku_hard=["a,a,6,a,a,a,a,a,3,7,a,a,3,a,a,a,a,a,a,a,a,a,1,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,3,a,1,1,a,a,4,a,a,8,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,2,a,a,a,8,a,a,a","7,a,a,a,a,4,a,2,a,a,9,a,a,a,a,3,a,a,a,a,a,a,a,6,a,a,8,a,8,a,9,a,a,a,a,a,a,3,5,a,a,a,a,a,9,a,a,a,a,7,2,a,4,a,a,a,9,5,2,a,a,a,a,a,a,a,a,a,a,8,6,7,1,a,a,3,a,a,a,a,a","8,a,a,a,a,5,2,a,a,a,a,a,a,6,a,a,3,a,9,a,a,a,a,a,5,a,a,a,7,3,a,a,a,a,6,a,a,a,a,a,2,8,a,a,5,a,5,a,6,a,a,a,a,a,a,2,a,a,a,a,a,a,9,4,a,a,a,a,a,a,a,8,a,a,6,7,3,a,a,2,a","a,4,a,a,a,3,a,a,1,3,a,a,5,a,a,a,9,a,a,a,6,a,7,a,a,a,a,a,2,a,a,8,4,a,a,a,a,a,a,a,6,a,a,4,a,a,a,7,a,a,a,a,5,a,2,a,a,6,a,a,9,a,a,a,a,a,a,a,a,4,a,2,9,a,5,1,a,a,a,a,a","a,a,4,a,1,a,a,5,7,6,a,a,a,a,a,2,a,a,a,a,1,3,a,a,a,a,a,a,a,a,a,4,5,a,a,9,2,4,a,a,a,a,a,a,a,a,a,a,9,a,a,a,1,3,a,7,3,a,a,a,a,a,a,a,a,a,a,a,4,a,9,a,a,a,a,a,6,2,7,a,a"],t.sudoku_medium=["5,a,a,a,a,9,a,a,a,a,2,a,8,a,a,a,9,1,9,a,a,4,a,a,a,a,3,a,a,7,a,1,a,6,a,a,a,a,a,a,9,a,5,a,a,8,a,a,a,a,a,9,a,a,a,a,1,a,a,a,a,2,7,a,a,a,6,a,5,a,a,a,a,3,a,a,a,2,a,a,a","6,2,a,a,a,3,a,a,a,a,a,a,9,a,a,7,a,a,a,a,4,8,a,a,a,2,a,a,3,a,a,a,8,a,a,2,a,6,a,a,a,a,a,8,a,a,a,a,1,7,a,9,a,a,7,a,8,a,a,a,a,a,a,a,a,2,a,a,a,a,9,a,a,a,a,a,5,2,a,a,3","4,7,a,1,a,8,a,2,9,a,a,a,a,a,a,a,a,a,a,6,9,2,7,1,a,a,a,9,a,6,a,1,a,3,a,3,a,a,a,a,a,a,a,4,a,4,a,7,a,9,a,8,a,a,a,4,8,7,5,3,a,a,a,a,a,a,a,a,a,a,5,8,a,4,a,3,a,9,7,a,a","1,a,a,6,a,8,a,5,a,7,3,a,a,a,4,a,a,a,a,a,2,a,a,a,a,3,4,a,6,1,a,7,a,a,a,a,a,a,a,8,a,a,1,6,9,5,a,8,1,a,a,a,a,3,a,1,a,a,a,6,5,9,a,a,9,a,a,1,7,a,a,8,8,a,a,a,4,a,7,a,a","a,4,7,a,5,a,a,a,8,6,a,5,a,3,a,2,a,1,a,a,a,7,a,6,a,3,a,a,a,6,a,7,a,a,2,4,9,a,a,8,a,4,a,a,6,4,5,a,a,1,a,9,a,a,a,1,a,5,a,2,a,a,a,2,a,8,a,4,a,5,a,3,5,a,a,a,9,a,7,1,a"],t.opt=1,t.sus=t.sudoku.split(","),t.ss=new eui.ArrayCollection,t.skinName="resource/eui_skins/myskin/randomSkin.exml",t}return __extends(t,a),t.prototype.partAdded=function(t,e){a.prototype.partAdded.call(this,t,e)},t.prototype.Hline=function(){var a=new egret.Shape;a.graphics.lineStyle(10,16777215),a.graphics.moveTo(this.root_x+5,this.root_y+3*this.blocks_y),a.graphics.lineTo(this.root_x+9*this.blocks_x-5,this.root_y+3*this.blocks_y),this.sudokoTable1.addChild(a),a.graphics.moveTo(this.root_x+5,this.root_y+6*this.blocks_y),a.graphics.lineTo(this.root_x+9*this.blocks_x-5,this.root_y+6*this.blocks_y),this.sudokoTable1.addChild(a),a.graphics.moveTo(this.root_x+3*this.blocks_x,this.root_y+5),a.graphics.lineTo(this.root_x+3*this.blocks_x,this.root_y+9*this.blocks_y-5),this.sudokoTable1.addChild(a),a.graphics.moveTo(this.root_x+6*this.blocks_x,this.root_y+5),a.graphics.lineTo(this.root_x+6*this.blocks_x,this.root_y+9*this.blocks_y-5),this.sudokoTable1.addChild(a)},t.prototype.isRight=function(){for(var a=0;9>a;a++){for(var t=new Int32Array(10),e=1;9>=e;e++)t[e]=0;for(var e=0;9>e;e++){var o=this.ss.getItemAt(9*a+e),i=parseInt(o.text);if(i>9||1>i||0!=t[i])return egret.log("Error1: "),egret.log(a,e),!1;t[i]=1}}for(var e=0;9>e;e++){for(var t=new Int32Array(10),a=1;9>=a;a++)t[a]=0;for(var a=0;9>a;a++){var o=this.ss.getItemAt(9*a+e),i=parseInt(o.text);if(i>9||1>i||0!=t[i])return egret.log("Error2: "),egret.log(a,e),!1;t[i]=1}}for(var a=0;9>a;a++){for(var t=new Int32Array(10),e=1;9>=e;e++)t[e]=0;for(var e=0;9>e;e++){var o=this.ss.getItemAt(9*(a%3*3+Math.floor(e/3))+3*Math.floor(a/3)+e%3),i=parseInt(o.text);if(i>9||1>i||0!=t[i])return egret.log("Error3: ",i,a%3*3,Math.ceil(e/3),3*Math.ceil(a/3),e%3),egret.log(a,e),!1;t[i]=1}}return!0},t.prototype.show_panal=function(a){var t=new eui.Panel;if("Y"==a)t.title="恭喜您完成新手教程",t.horizontalCenter=0,t.verticalCenter=0,this.addChild(t);else{t.title="答案错误";var e=new eui.EditableText;e.x=50,e.y=70,e.width=400,e.textColor=0,e.text="失败乃成功之母，亲亲再尝试一下哦~~",e.touchEnabled=!1,t.addChild(e),t.horizontalCenter=0,t.verticalCenter=0,this.addChild(t)}t.addChild(t.closeButton)},t.prototype.random_num=function(a,t){var e=t-a,o=Math.random();return a+Math.round(o*e)},t.prototype.gen_sudoko=function(){if(this.a_lable){this.sudokoTable1.width=9*this.blocks_x,this.sudokoTable1.height=9*this.blocks_y;for(var a=0;9>a;a++)for(var t=0;9>t;t++){var e=new eui.TextInput;"a"!=this.sus[9*a+t]?(e.text=this.sus[9*a+t],e.skinName="sudokoSolidBlank",e.textColor=5080018,e.touchChildren=!1):(e.text="",e.skinName="sudokoEditableBlank",e.textColor=16777215,e.touchChildren=!0),e.maxChars=1,e.x=this.root_x+t*this.blocks_x,e.y=this.root_y+a*this.blocks_y,e.width=this.blocks_x,e.height=this.blocks_y,e.inputType=egret.TextFieldInputType.TEL,this.sudokoTable1.addChild(e),this.ss.addItemAt(e,9*a+t)}this.Hline(),this.a_lable=!1}else{var o=this.random_num(0,this.nums_t);switch(this.opt){case 1:this.sudoku=this.sudoku_easy[o],egret.log(o),egret.log(this.sudoku),this.sus=this.sudoku.split(","),this.mode_id.text="模式：简单";break;case 2:this.sudoku=this.sudoku_medium[o],egret.log(o),egret.log(this.sudoku),this.sus=this.sudoku.split(","),this.mode_id.text="模式：中等";break;case 3:this.sudoku=this.sudoku_hard[o],egret.log(o),egret.log(this.sudoku),this.sus=this.sudoku.split(","),this.mode_id.text="模式：困难";break;default:egret.log("生成数独状态机出错!")}for(var a=0;9>a;a++)for(var t=0;9>t;t++){var e=this.ss.getItemAt(9*a+t);"a"!=this.sus[9*a+t]?(e.text=this.sus[9*a+t],e.skinName="sudokoSolidBlank",e.textColor=5080018,e.touchChildren=!1):(e.text="",e.skinName="sudokoEditableBlank",e.textColor=16777215,e.touchChildren=!0),e.maxChars=1,e.x=this.root_x+t*this.blocks_x,e.y=this.root_y+a*this.blocks_y,e.width=this.blocks_x,e.height=this.blocks_y,e.inputType=egret.TextFieldInputType.TEL}}},t.prototype.is_input_error=function(a,t,e,o){var i=a,r=t;egret.log(i),egret.log(r);var s=e.getItemAt(9*i+r);if(egret.log(s.text),s.text[0]>="1"&&s.text[0]<="9"||0==s.text.length)s.textColor=16777215;else{s.textColor=14423100;var n=new eui.Panel;n.title="不恰当的输入";var h=new eui.EditableText;h.x=50,h.y=70,h.width=400,h.textColor=0,h.text="数独仅包含数字1~9哦~~",h.touchEnabled=!1,n.addChild(h),n.horizontalCenter=0,n.verticalCenter=0,o.addChild(n)}},t.prototype.test_user_input=function(){for(var a=0;9>a;a++)for(var t=0;9>t;t++){var e=this.ss.getItemAt(9*a+t);e.addEventListener(egret.Event.CHANGE,this.is_input_error.bind(egret.Event.CHANGE,a,t,this.ss,this,this),this)}},t.prototype.childrenCreated=function(){var t=this;a.prototype.childrenCreated.call(this),this.quit_to_PC.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){SceneManager.removeScene(new play_with_computers)},this),this.opt=1,this.a_lable=!0,this.easy.visible=!0,this.medium.visible=!0,this.hard.visible=!0,this.gen_sudoko(),this.easy.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){t.opt=1,t.gen_sudoko()},this),this.medium.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){t.opt=2,t.gen_sudoko()},this),this.hard.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){t.opt=3,t.gen_sudoko()},this),this.test_user_input(),this.submit1.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){t.isRight()?t.show_panal("Y"):t.show_panal("N")},this)},t}(eui.Component);__reflect(random.prototype,"random",["eui.UIComponent","egret.DisplayObject"]);var SceneManager=function(){function a(){}return a.addScene=function(a){this.stage.addChild(a)},a.removeScene=function(a){this.stage.removeChildren(),this.stage.addChild(a)},a}();__reflect(SceneManager.prototype,"SceneManager");var Startscence=function(a){function t(){var t=a.call(this)||this;return t.skinName="resource/eui_skins/myskin/StartscenseSkin.exml",t}return __extends(t,a),t.prototype.partAdded=function(t,e){a.prototype.partAdded.call(this,t,e)},t.prototype.childrenCreated=function(){a.prototype.childrenCreated.call(this),this.StartPlay.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){SceneManager.removeScene(new play_with_computers)},this),this.StartPlay1.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){SceneManager.removeScene(new play_with_man)},this),this.StartPlay2.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){SceneManager.removeScene(new Game_test)},this)},t}(eui.Component);__reflect(Startscence.prototype,"Startscence",["eui.UIComponent","egret.DisplayObject"]);var ThemeAdapter=function(){function a(){}return a.prototype.getTheme=function(a,t,e,o){function i(a){t.call(o,a)}function r(t){t.resItem.url==a&&(RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,r,null),e.call(o))}var s=this;if("undefined"!=typeof generateEUI)egret.callLater(function(){t.call(o,generateEUI)},this);else if("undefined"!=typeof generateEUI2)RES.getResByUrl("resource/gameEui.json",function(a,e){window.JSONParseClass.setData(a),egret.callLater(function(){t.call(o,generateEUI2)},s)},this,RES.ResourceItem.TYPE_JSON);else if("undefined"!=typeof generateJSON)if(a.indexOf(".exml")>-1){var n=a.split("/");n.pop();var h=n.join("/")+"_EUI.json";generateJSON.paths[a]?egret.callLater(function(){t.call(o,generateJSON.paths[a])},this):RES.getResByUrl(h,function(e){window.JSONParseClass.setData(e),egret.callLater(function(){t.call(o,generateJSON.paths[a])},s)},this,RES.ResourceItem.TYPE_JSON)}else egret.callLater(function(){t.call(o,generateJSON)},this);else RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,r,null),RES.getResByUrl(a,i,this,RES.ResourceItem.TYPE_TEXT)},a}();__reflect(ThemeAdapter.prototype,"ThemeAdapter",["eui.IThemeAdapter"]),window.Main=Main;